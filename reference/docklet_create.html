<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Docklets: docker on droplets. — docklet_create • analogsea</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Docklets: docker on droplets. — docklet_create" />
<meta property="og:description" content="Docklets: docker on droplets." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">analogsea</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.4.93</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/analogsea.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sckott/analogsea/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Docklets: docker on droplets.</h1>
    <small class="dont-index">Source: <a href='https://github.com/sckott/analogsea/blob/master/R/docklet.R'><code>R/docklet.R</code></a></small>
    <div class="hidden name"><code>docklet_create.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Docklets: docker on droplets.</p>
    </div>

    <pre class="usage"><span class='fu'>docklet_create</span><span class='op'>(</span>
  name <span class='op'>=</span> <span class='fu'>random_name</span><span class='op'>(</span><span class='op'>)</span>,
  size <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_size"</span>, <span class='st'>"s-1vcpu-2gb"</span><span class='op'>)</span>,
  region <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_region"</span>, <span class='st'>"sfo3"</span><span class='op'>)</span>,
  ssh_keys <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_ssh_keys"</span>, <span class='cn'>NULL</span><span class='op'>)</span>,
  backups <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_backups"</span>, <span class='cn'>NULL</span><span class='op'>)</span>,
  ipv6 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_ipv6"</span>, <span class='cn'>NULL</span><span class='op'>)</span>,
  private_networking <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"do_private_networking"</span>, <span class='cn'>NULL</span><span class='op'>)</span>,
  tags <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  wait <span class='op'>=</span> <span class='cn'>TRUE</span>,
  image <span class='op'>=</span> <span class='st'>"docker-18-04"</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>docklet_ps</span><span class='op'>(</span><span class='va'>droplet</span>, all <span class='op'>=</span> <span class='cn'>TRUE</span>, ssh_user <span class='op'>=</span> <span class='st'>"root"</span><span class='op'>)</span>

<span class='fu'>docklet_images</span><span class='op'>(</span><span class='va'>droplet</span>, all <span class='op'>=</span> <span class='cn'>TRUE</span>, ssh_user <span class='op'>=</span> <span class='st'>"root"</span><span class='op'>)</span>

<span class='fu'>docklet_pull</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>repo</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>,
  keyfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_passwd <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>docklet_run</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>...</span>,
  rm <span class='op'>=</span> <span class='cn'>FALSE</span>,
  name <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>,
  keyfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_passwd <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>docklet_stop</span><span class='op'>(</span><span class='va'>droplet</span>, <span class='va'>container</span>, ssh_user <span class='op'>=</span> <span class='st'>"root"</span><span class='op'>)</span>

<span class='fu'>docklet_rm</span><span class='op'>(</span><span class='va'>droplet</span>, <span class='va'>container</span>, ssh_user <span class='op'>=</span> <span class='st'>"root"</span><span class='op'>)</span>

<span class='fu'>docklet_docker</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>cmd</span>,
  args <span class='op'>=</span> <span class='cn'>NULL</span>,
  docker_args <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>,
  keyfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_passwd <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>docklet_rstudio</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>user</span>,
  <span class='va'>password</span>,
  email <span class='op'>=</span> <span class='st'>"rstudio@example.com"</span>,
  img <span class='op'>=</span> <span class='st'>"rocker/rstudio"</span>,
  port <span class='op'>=</span> <span class='st'>"8787"</span>,
  volume <span class='op'>=</span> <span class='st'>""</span>,
  dir <span class='op'>=</span> <span class='st'>""</span>,
  browse <span class='op'>=</span> <span class='cn'>TRUE</span>,
  add_users <span class='op'>=</span> <span class='cn'>FALSE</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>,
  keyfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_passwd <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>docklet_rstudio_addusers</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>user</span>,
  <span class='va'>password</span>,
  img <span class='op'>=</span> <span class='st'>"rocker/rstudio"</span>,
  port <span class='op'>=</span> <span class='st'>"8787"</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>,
  keyfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  ssh_passwd <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>docklet_shinyserver</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  img <span class='op'>=</span> <span class='st'>"rocker/shiny"</span>,
  port <span class='op'>=</span> <span class='st'>"3838"</span>,
  volume <span class='op'>=</span> <span class='st'>""</span>,
  dir <span class='op'>=</span> <span class='st'>""</span>,
  browse <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>
<span class='op'>)</span>

<span class='fu'>docklet_shinyapp</span><span class='op'>(</span>
  <span class='va'>droplet</span>,
  <span class='va'>path</span>,
  img <span class='op'>=</span> <span class='st'>"rocker/shiny"</span>,
  port <span class='op'>=</span> <span class='st'>"80"</span>,
  dir <span class='op'>=</span> <span class='st'>""</span>,
  browse <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ssh_user <span class='op'>=</span> <span class='st'>"root"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>name</th>
      <td><p>(character) Name of the droplet. The human-readable string you
wish to use when displaying the Droplet name. The name, if set to a domain
name managed in the DigitalOcean DNS management system, will configure a
PTR record for the Droplet. The name set during creation will also
determine the hostname for the Droplet in its internal configuration.
Default: picks a random name from <code><a href='words.html'>words</a></code> if none supplied.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>(character) Size slug identifier. See <code><a href='sizes.html'>sizes</a>()</code> for
a complete list. Default: s-1vcpu-2gb</p></td>
    </tr>
    <tr>
      <th>region</th>
      <td><p>(character) The unique slug identifier for the region that you
wish to deploy in. See <code><a href='regions.html'>regions</a>()</code> for a complete list.
Default: sfo3</p></td>
    </tr>
    <tr>
      <th>ssh_keys</th>
      <td><p>(character) A character vector of key names, an integer
vector of key ids, or NULL, to use all keys in your account. Accounts
with the corresponding private key will be able to log in to the droplet.
See <code><a href='keys.html'>keys</a>()</code> for a list of the keys that you've added.
Default: NULL</p></td>
    </tr>
    <tr>
      <th>backups</th>
      <td><p>(logical) Enable backups. A boolean indicating whether
automated backups should be enabled for the droplet. Automated backups can
only be enabled when the droplet is created, and cost extra.
Default: FALSE</p></td>
    </tr>
    <tr>
      <th>ipv6</th>
      <td><p>(logical) A boolean indicating whether IPv6 is enabled on the
droplet.</p></td>
    </tr>
    <tr>
      <th>private_networking</th>
      <td><p>(logical) Use private networking. Private
networking is currently only available in certain regions.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>tags</th>
      <td><p>(character) A vector of tag names to apply to the Droplet after
it is created. Tag names can either be existing or new tags.
Default: list()</p></td>
    </tr>
    <tr>
      <th>wait</th>
      <td><p>If <code>TRUE</code> (default), wait until droplet has been
initialised and is ready for use. If set to <code>FALSE</code> we return a
droplet object right away after droplet creation request has been sent.
Note that there won't be an IP address in the object yet. Note that
waiting means we ping the DigitalOcean API to check on the status of your
droplet, which uses up your API requests. The option <code>do.wait_time</code>
can be set to any positive integer to determine how many seconds between
pings. The default is 1 sec. Note that if you are creating droplets in a
loop, parallel or otherwise, set <code>do.wait_time</code> within the loop
instead of outside of it.</p></td>
    </tr>
    <tr>
      <th>image</th>
      <td><p>(character/numeric) The image ID of a public or private image,
or the unique slug identifier for a public image. This image will be the
base image for your droplet. See <code><a href='as.image.html'>images</a>()</code> for a complete
list. Default: ubuntu-18-04-x64</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For <code>docklet_create</code>, additional options passed down to
<code><a href='https://httr.r-lib.org/reference/POST.html'>POST</a></code>. For <code>docklet_run</code>, additional arguments
combined and applied to docker statement.</p></td>
    </tr>
    <tr>
      <th>droplet</th>
      <td><p>A droplet, or something that can be coerced to a droplet by
<code><a href='droplet.html'>as.droplet</a></code>.</p></td>
    </tr>
    <tr>
      <th>all</th>
      <td><p>(logical) List all containers or images. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>ssh_user</th>
      <td><p>(character) User account for ssh commands against droplet.
Default: root</p></td>
    </tr>
    <tr>
      <th>repo</th>
      <td><p>(character) Docker name, can be local to the Droplet or remote,
e.g., <code>rocker/rstudio</code></p></td>
    </tr>
    <tr>
      <th>keyfile</th>
      <td><p>Optional private key file.</p></td>
    </tr>
    <tr>
      <th>ssh_passwd</th>
      <td><p>Optional passphrase or callback function for authentication.
Refer to the <code><a href='https://docs.ropensci.org/ssh/reference/ssh.html'>ssh::ssh_connect</a></code> documentation for more details.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If TRUE, will print command before executing it.</p></td>
    </tr>
    <tr>
      <th>rm</th>
      <td><p>(logical) Automatically remove the container when it exits.
Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>container</th>
      <td><p>(character) Container name, can be partial (though has
to be unique)</p></td>
    </tr>
    <tr>
      <th>cmd</th>
      <td><p>(character) A docker command (e.g., <code>"run"</code>)</p></td>
    </tr>
    <tr>
      <th>args</th>
      <td><p>(character) Docker args</p></td>
    </tr>
    <tr>
      <th>docker_args</th>
      <td><p>(character) Docker args</p></td>
    </tr>
    <tr>
      <th>user</th>
      <td><p>(character) User name. required.</p></td>
    </tr>
    <tr>
      <th>password</th>
      <td><p>(character) Password. required. can not be 'rstudio'</p></td>
    </tr>
    <tr>
      <th>email</th>
      <td><p>(character) E-mail address. Default: <code>"rstudio@example.com"</code></p></td>
    </tr>
    <tr>
      <th>img</th>
      <td><p>(character) Docker image (not a DigitalOcean image). Default:
<code>'rocker/rstudio'</code></p></td>
    </tr>
    <tr>
      <th>port</th>
      <td><p>(character) Port. Default: <code>8787</code></p></td>
    </tr>
    <tr>
      <th>volume</th>
      <td><p>(character) Volume. Can use to bind a volume.</p></td>
    </tr>
    <tr>
      <th>dir</th>
      <td><p>(character) Working directory inside the container.</p></td>
    </tr>
    <tr>
      <th>browse</th>
      <td><p>(logical) If <code>TRUE</code>, open RStudio instance in your default
browser.</p></td>
    </tr>
    <tr>
      <th>add_users</th>
      <td><p>(logical) Add users or not when installing RStudio server.
Default: FALSE</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>(character) Path to a directory with Shiny app files</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>all functions return a droplet</p>
    <h2 class="hasAnchor" id="urls"><a class="anchor" href="#urls"></a>URLs</h2>

    

<p>If you need to figure out the URL for your RStudio or Shiny server
instance, you can construct like <code>http://&lt;ip address&gt;:&lt;port&gt;</code> where
IP address can most likely be found like <code>d$networks$v4[[1]]$ip_address</code>
and the port is the port you set in the function call.</p>
    <h2 class="hasAnchor" id="managing-docker-containers-from-r"><a class="anchor" href="#managing-docker-containers-from-r"></a>Managing Docker containers from R</h2>

    

<p>There's a few things to be note about managing Docker containers from
analogsea:</p><ul>
<li><p>To see running containers run <code>docklet_ps(d)</code></p></li>
<li><p>To get get logs run <code><a href='droplet_ssh.html'>droplet_ssh(d, "docker logs &lt;container ID&gt;")</a></code></p></li>
<li><p>To get a continuous feed of the logs run
<code><a href='droplet_ssh.html'>droplet_ssh(d, "docker logs -f &lt;container ID&gt;")</a></code></p></li>
<li><p>Do not use <code>docker exec -ti</code> as you do not want an interactive session -
it will not work from within R. If you log into your DigitalOcean droplet
you can do <code>docker exec -ti</code></p></li>
<li><p>To install R package dependencies for a Shiny app, or similar, run
<code>droplet_ssh(d, "docker exec &lt;ID&gt; R -e 'install.packages(\"pkg-name\")'")</code>
where <code>d</code> is your droplet object and <code>&lt;ID&gt;</code> is the docker container ID</p></li>
</ul>

    <h2 class="hasAnchor" id="missing-droplet-id"><a class="anchor" href="#missing-droplet-id"></a>Missing droplet ID</h2>

    

<p>If you get a droplet object back without an IP address, the IP
address was not assigned when the payload was returned by DigitalOcean.
Simply run <code>d &lt;- droplet(d$id)</code> to update your droplet object and the IP
address will populate.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='docklets_create.html'>docklets_create</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'>docklet_create</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='droplet.html'>droplet</a></span><span class='op'>(</span><span class='va'>d</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_pull</span><span class='op'>(</span><span class='st'>"dockerpinata/sqlite"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_images</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># sqlite</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_run</span><span class='op'>(</span><span class='st'>"dockerpinata/sqlite"</span>, <span class='st'>"sqlite3 --version"</span>, rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_ps</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># cowsay</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_pull</span><span class='op'>(</span><span class='st'>"chuanwen/cowsay"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_run</span><span class='op'>(</span><span class='st'>"chuanwen/cowsay"</span>, rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># docker images</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_images</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># install various R versions via Rocker</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_pull</span><span class='op'>(</span><span class='st'>"rocker/r-base"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_pull</span><span class='op'>(</span><span class='st'>"rocker/r-devel"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_pull</span><span class='op'>(</span><span class='st'>"rocker/r-ver:3.2"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_run</span><span class='op'>(</span><span class='st'>"rocker/r-ver:3.2"</span>, <span class='st'>"R --version"</span>, rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_run</span><span class='op'>(</span><span class='st'>"rocker/r-ver:3.2"</span>, <span class='st'>"Rscript -e '2 + 3'"</span>, rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Run a docklet containing rstudio</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_rstudio</span><span class='op'>(</span>user <span class='op'>=</span> <span class='st'>"foo"</span>, password <span class='op'>=</span> <span class='st'>"bar"</span><span class='op'>)</span>

<span class='co'># Delete a droplet</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='droplet_delete.html'>droplet_delete</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Add users to an Rstudio instance</span>
<span class='co'>## This adds 100 users to the instance, with username/passwords</span>
<span class='co'>## following pattern user1/user1 ... through 100</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'>docklet_create</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='droplet.html'>droplet</a></span><span class='op'>(</span><span class='va'>d</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_rstudio</span><span class='op'>(</span>user <span class='op'>=</span> <span class='st'>"foo"</span>, password <span class='op'>=</span> <span class='st'>"bar"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
 <span class='fu'>docklet_rstudio_addusers</span><span class='op'>(</span>user <span class='op'>=</span> <span class='st'>"foo"</span>, password <span class='op'>=</span> <span class='st'>"bar"</span><span class='op'>)</span>

<span class='co'># Spin up a Shiny server (opens in default browser)</span>
<span class='op'>(</span><span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'>docklet_create</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_shinyserver</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>docklet_create</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_shinyserver</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Spin up a Shiny server with an app (opens in default browser)</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'>docklet_create</span><span class='op'>(</span><span class='op'>)</span>; <span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='droplet.html'>droplet</a></span><span class='op'>(</span><span class='va'>d</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span>
<span class='va'>path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"examples"</span>, <span class='st'>"widgets"</span>, package <span class='op'>=</span> <span class='st'>"analogsea"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'>docklet_shinyapp</span><span class='op'>(</span><span class='va'>path</span><span class='op'>)</span>
<span class='co'>## uploading more apps - use droplet_upload, then navigate in browser</span>
<span class='co'>### if you try to use docklet_shinyapp again on the same droplet, it will error</span>
<span class='va'>path2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"examples"</span>, <span class='st'>"mpg"</span>, package <span class='op'>=</span> <span class='st'>"analogsea"</span><span class='op'>)</span>
<span class='va'>d</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='droplet_ssh.html'>droplet_upload</a></span><span class='op'>(</span><span class='va'>path2</span>, <span class='st'>"/srv/shinyapps"</span><span class='op'>)</span> <span class='co'># then go to browser</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Scott Chamberlain, <a href='http://hadley.nz'>Hadley Wickham</a>, Winston Chang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


